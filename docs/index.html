<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@dotvirus/yxc</title>
	<meta name="description" content="Documentation for @dotvirus/yxc">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@dotvirus/yxc</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>@dotvirus/yxc</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#yxc" id="yxc" style="color: inherit; text-decoration: none;">
					<h1>yxc</h1>
				</a>
				<p>Schema validation with composition, written in Typescript.</p>
				<p>See the full documentation here: <a href="https://marvin-j97.github.io/yxc/">https://marvin-j97.github.io/yxc/</a></p>
				<p><a href="https://badge.fury.io/js/%40dotvirus%2Fyxc"><img src="https://badge.fury.io/js/%40dotvirus%2Fyxc.svg" alt="npm version"></a>
					<img src="https://github.com/marvin-j97/yxc/workflows/Node.js%20CI/badge.svg" alt="Node.js CI">
					<a href="https://codecov.io/gh/marvin-j97/yxc"><img src="https://codecov.io/gh/marvin-j97/yxc/branch/dev/graph/badge.svg" alt="codecov"></a>
					<img src="https://img.shields.io/bundlephobia/minzip/@dotvirus/yxc" alt="npm bundle size">
					<img src="https://img.shields.io/david/dotvirus/yxc" alt="David">
				<img src="https://img.shields.io/npm/dw/@dotvirus/yxc" alt="npm"></p>
				<a href="#install" id="install" style="color: inherit; text-decoration: none;">
					<h1>Install</h1>
				</a>
				<pre><code><span class="hljs-built_in">npm</span> i @dotvirus/yxc</code></pre>
				<a href="#examples" id="examples" style="color: inherit; text-decoration: none;">
					<h1>Examples</h1>
				</a>
				<p>Validate a schema</p>
				<pre><code class="language-typescript"><span class="hljs-keyword">import</span> yxc, { createSchema } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@dotvirus/yxc&quot;</span>;

<span class="hljs-keyword">const</span> schema = createSchema({
  <span class="hljs-attr">id</span>: yxc.number().integer().positive(),
  <span class="hljs-attr">name</span>: yxc.string().notEmpty(),
  <span class="hljs-attr">age</span>: yxc.number().integer().min(<span class="hljs-number">0</span>),
});

<span class="hljs-keyword">const</span> result = schema({
  <span class="hljs-attr">id</span>: <span class="hljs-number">52165</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Test Name&quot;</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">32</span>,
});
<span class="hljs-built_in">console</span>.log(result);
<span class="hljs-comment">//</span>
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   ok: true,</span>
<span class="hljs-comment">//   errors: []</span>
<span class="hljs-comment">// }</span>
<span class="hljs-comment">//</span>

<span class="hljs-keyword">const</span> result = schema({
  <span class="hljs-attr">id</span>: <span class="hljs-number">52165</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Test Name&quot;</span>,
  <span class="hljs-attr">age</span>: -<span class="hljs-number">5</span>,
});
<span class="hljs-built_in">console</span>.log(result);
<span class="hljs-comment">//</span>
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   ok: false,</span>
<span class="hljs-comment">//   errors: [</span>
<span class="hljs-comment">//     {</span>
<span class="hljs-comment">//       key: [&#x27;age&#x27;],</span>
<span class="hljs-comment">//       message: &#x27;Must be at least 0&#x27;</span>
<span class="hljs-comment">//     }</span>
<span class="hljs-comment">//   ]</span>
<span class="hljs-comment">// }</span>
<span class="hljs-comment">//</span></code></pre>
				<p>Validate a union type</p>
				<pre><code class="language-typescript"><span class="hljs-keyword">import</span> yxc, { createExecutableSchema } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@dotvirus/yxc&quot;</span>;

<span class="hljs-keyword">const</span> numberStringUnion = yxc.union([yxc.string(), yxc.number()]);

<span class="hljs-keyword">const</span> isStringOrNumber = createExecutableSchema(numberStringUnion);

<span class="hljs-built_in">console</span>.log(isStringOrNumber(<span class="hljs-number">5</span>).ok); <span class="hljs-comment">// -&gt; true</span>
<span class="hljs-built_in">console</span>.log(isStringOrNumber(<span class="hljs-string">&quot;5&quot;</span>).ok); <span class="hljs-comment">// -&gt; true</span>
<span class="hljs-built_in">console</span>.log(isStringOrNumber(<span class="hljs-literal">null</span>).ok); <span class="hljs-comment">// -&gt; false</span></code></pre>
				<p>Composition</p>
				<pre><code class="language-typescript"><span class="hljs-keyword">import</span> yxc, { createExecutableSchema } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@dotvirus/yxc&quot;</span>;

<span class="hljs-keyword">const</span> Song = yxc.object({
  <span class="hljs-attr">title</span>: yxc.string().notEmpty(),
  <span class="hljs-attr">duration</span>: yxc.number().positive().int(),
});

<span class="hljs-keyword">const</span> Album = yxc.object({
  <span class="hljs-attr">title</span>: yxc.string().notEmpty(),
  <span class="hljs-attr">songs</span>: yxc.array(Song).notEmpty(),
  <span class="hljs-attr">duration</span>: yxc.number().positive().int(),
  <span class="hljs-attr">releaseYear</span>: yxc.number().positive().int(),
});

<span class="hljs-keyword">const</span> isAlbum = createExecutableSchema(Album);

<span class="hljs-built_in">console</span>.log(
  isAlbum({
    <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Some album&quot;</span>,
    <span class="hljs-attr">songs</span>: [
      {
        <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Some song&quot;</span>,
        <span class="hljs-attr">duration</span>: <span class="hljs-number">125</span>,
      },
    ],
    <span class="hljs-attr">duration</span>: <span class="hljs-number">125</span>,
    <span class="hljs-attr">releaseYear</span>: <span class="hljs-number">2015</span>,
  }).ok,
); <span class="hljs-comment">// -&gt; true</span>

<span class="hljs-built_in">console</span>.log(
  isAlbum({
    <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Some album&quot;</span>,
    <span class="hljs-attr">songs</span>: [],
    <span class="hljs-attr">duration</span>: <span class="hljs-number">125</span>,
    <span class="hljs-attr">releaseYear</span>: <span class="hljs-number">2015</span>,
  }).errors,
);
<span class="hljs-comment">//</span>
<span class="hljs-comment">// [</span>
<span class="hljs-comment">//   {</span>
<span class="hljs-comment">//     key: [&#x27;songs&#x27;],</span>
<span class="hljs-comment">//     message: &#x27;Must not be empty&#x27;</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// ]</span>
<span class="hljs-comment">//</span></code></pre>
				<p>Infer a schema type (Typescript only!)</p>
				<table>
					<thead>
						<tr>
							<th><code>NOTE</code></th>
							<th>Turn on &#39;strictNullChecks&#39; in your tsconfig.json, otherwise values may not be inferred correctly.</th>
						</tr>
					</thead>
				</table>
				<pre><code class="language-typescript"><span class="hljs-keyword">import</span> yxc, { Infer } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@dotvirus/yxc&quot;</span>;

<span class="hljs-keyword">const</span> songSchema = yxc.object({
  <span class="hljs-attr">title</span>: yxc.string().notEmpty(),
  <span class="hljs-attr">duration</span>: yxc.number().positive().int(),
  <span class="hljs-attr">rating</span>: yxc.number().positive().int().nullable(),
});

<span class="hljs-keyword">type</span> Song = Infer&lt;<span class="hljs-keyword">typeof</span> songSchema&gt;;
<span class="hljs-comment">//</span>
<span class="hljs-comment">// type Song = {</span>
<span class="hljs-comment">//   title: string;</span>
<span class="hljs-comment">//   duration: number;</span>
<span class="hljs-comment">//   rating: number | null;</span>
<span class="hljs-comment">// }</span>
<span class="hljs-comment">//</span></code></pre>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_email_.html">&quot;email&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_any_.html">&quot;handlers/any&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_array_.html">&quot;handlers/array&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_atomic_.html">&quot;handlers/atomic&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_base_.html">&quot;handlers/base&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_boolean_.html">&quot;handlers/boolean&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_index_.html">&quot;handlers/index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_null_.html">&quot;handlers/null&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_number_.html">&quot;handlers/number&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_object_.html">&quot;handlers/object&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_optional_.html">&quot;handlers/optional&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_record_.html">&quot;handlers/record&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_string_.html">&quot;handlers/string&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_handlers_union_.html">&quot;handlers/union&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_index_.html">&quot;index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_infer_.html">&quot;infer&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_log_.html">&quot;log&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_schema_.html">&quot;schema&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_types_.html">&quot;types&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_util_.html">&quot;util&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>